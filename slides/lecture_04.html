<!-- Copied from https://gist.github.com/aaronwolen/5017084#file-template-revealjs-html -->
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
 
<title>Geographic Information Systems for Public Policy - Lecture IV</title>
 
<meta name="description" content="Geographic Information Systems for Public Policy - Lecture IV">    
 
  <meta name="author" content="Vector Attributes and Tables" />
 
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
 
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
 
<link rel="stylesheet" href="css/reveal.min.css">
  <link rel="stylesheet" href="css/theme/journal.css" id="theme">
 
 
<!-- For syntax highlighting -->
  <link rel="stylesheet" href="lib/css/zenburn.css">
 
 
<!-- If the query includes 'print-pdf', use the PDF print sheet -->
<script>
  document.write( '<link rel="stylesheet" href="css/print/' +
    ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + 
    '.css" type="text/css" media="print">' );
</script>
 
<!--[if lt IE 9]>
<script src="lib/js/html5shiv.js"></script>
<![endif]-->
</head>
 
<body>
 
<div class="reveal">
 
<!-- Any section element inside of this container is displayed as a slide -->
<div class="slides">
 
<section>
<h1>Geographic Information Systems for Public Policy - Lecture IV</h1>
<h3>Vector Attributes and Tables</h3>
<p>
<h4><a href="http://sergrey.org">Sergio Rey</a></h4>
</p>
</section>  
 
 
<section id="last-time" class="level2">
<h2>Last Time</h2>
<ul>
<li>GIS Data Models</li>
<li>Vector Data Model</li>
</ul>
</section>
<section id="today" class="level2">
<h2>Today</h2>
<ul>
<li>Vector Attributes</li>
<li>Table Joins</li>
<li>Virtual Layers</li>
</ul>
</section>
<section id="section" class="level1">
<h1></h1>
<section id="recap-vector-data-model" class="level2">
<h2>Recap: Vector Data Model</h2>
<ul>
<li>Each discrete object is considered to be a <strong>feature</strong></li>
<li>Vector features have <strong>attributes</strong>, which consist of text or numerical information that describe the features</li>
<li>A vector feature has its shape represented using <strong>geometry</strong></li>
<li>The geometry is made up of one or more interconnected <strong>vertices</strong></li>
</ul>
</section>
<section id="features-and-attributes" class="level2">
<h2>Features and Attributes</h2>
<ul>
<li>Each <code>Feature</code> has a corresponding <code>Record</code> or <code>Row</code> in the <code>Attribute Table</code></li>
<li>The ordering of these rows has no intrinsic meaning</li>
<li>Each <code>Feature</code> has a unique <code>ID</code> this is relied upon to link the row to the feature</li>
</ul>
</section>
<section id="example-data" class="level2">
<h2>Example Data</h2>
<ul>
<li>Voting Precincts: Riverside County 2016</li>
<li>[<a href="../content/lectures/data/04/voting.zip">Download</a>]</li>
<li>[<a href="https://github.com/datadesk/california-2016-election-precinct-maps">Source</a>]</li>
</ul>
</section>
<section id="voting-precincts-riverside-county-2016" class="level2">
<h2>Voting Precincts: Riverside County 2016</h2>
<CENTER>
<img src="../content/lectures/images/04/precincts.png" alt="precincts"
/>
</CENTER>
</section>
<section id="attribute-table" class="level2">
<h2>Attribute Table</h2>
<CENTER>
<img src="../content/lectures/images/04/attribute_table.png" alt="table"
/>
</CENTER>
</section>
</section>
<section id="section-1" class="level1">
<h1></h1>
<section id="table-joins" class="level2">
<h2>Table Joins</h2>
</section>
<section id="loading-csv-layer" class="level2">
<h2>Loading csv layer</h2>
<CENTER>
<img src="../content/lectures/images/04/delimited_text.png" alt="figure"
/>
</CENTER>
</section>
<section id="section-2" class="level2" data-background="../content/lectures/images/04/loaded_delimited.png" data-background-size="contain">
<h2></h2>
</section>
<section id="sort-two-tables-by-their-precinct-attribute" class="level2">
<h2>Sort two tables by their precinct attribute</h2>
</section>
<section id="section-3" class="level2" data-background="../content/lectures/images/04/sorted_by_precinct.png" data-background-size="contain">
<h2></h2>
</section>
<section id="table-join" class="level2">
<h2>Table Join</h2>
<ul>
<li>We want to attach the data from the csv table into the shapefile layer</li>
<li>While the two precinct attributes are aligned, they have different values pointing to the same precinct</li>
<li>We need to fix this prior to doing a table join</li>
</ul>
</section>
<section id="creating-new-attributes" class="level2">
<h2>Creating New Attributes</h2>
<ul>
<li>We will first create a new attribute in the csv layer that has values matching those in the relevant field in the shapefile layer.</li>
<li>To do so we will make use of the <code>Field Calculator</code> of attribute tables</li>
<li>We are going to proceed in several steps</li>
<li>Ultimately we want to create a new field that changes <code>065-11103</code> into <code>11-103</code></li>
</ul>
</section>
<section id="create-an-interim-field" class="level2">
<h2>Create an Interim Field</h2>
</section>
<section id="section-4" class="level2" data-background="../content/lectures/images/04/220_next_field.png" data-background-size="contain">
<h2></h2>
</section>
<section id="create-the-final-new-field" class="level2">
<h2>Create the Final New Field</h2>
</section>
<section id="section-5" class="level2" data-background="../content/lectures/images/04/230_final_new_join_field.png" data-background-size="contain">
<h2></h2>
</section>
<section id="new-field-in-attribute-table" class="level2">
<h2>New Field in Attribute Table</h2>
</section>
<section id="section-6" class="level2" data-background="../content/lectures/images/04/231_new_field_in_table.png" data-background-size="contain">
<h2></h2>
</section>
<section id="table-join-1" class="level2">
<h2>Table Join</h2>
<ul>
<li>Now were in a position to do a table join</li>
<li>In the shapefile layer, open its properties dialog and select <code>Joins</code></li>
</ul>
</section>
<section id="section-7" class="level2" data-background="../content/lectures/images/04/240_join_dialog.png" data-background-size="contain">
<h2></h2>
</section>
<section id="table-join-2" class="level2">
<h2>Table Join</h2>
<ul>
<li>Ensure your dialog has the values as in the previous image</li>
<li>Then click <code>apply</code></li>
<li>Open up the attribute table for the layer</li>
</ul>
</section>
<section id="section-8" class="level2" data-background="../content/lectures/images/04/250_join_result.png" data-background-size="contain">
<h2></h2>
</section>
<section id="save-our-layer-as-a-new-name" class="level2">
<h2>Save our layer as a new name</h2>
<p>It is good practice to save layers that have changed to a new layer.</p>
<p>This ensures the values for the fields are updated.</p>
<p>Save your layer as <code>voting joined</code></p>
</section>
<section id="section-9" class="level2" data-background="../content/lectures/images/04/260_save_as_layer.png" data-background-size="contain">
<h2></h2>
</section>
<section id="munged-field-names" class="level2">
<h2>Munged Field Names</h2>
<p>One issue is our field names got changed when we saved to a new layers</p>
</section>
<section id="section-10" class="level2" data-background="../content/lectures/images/04/270_fields_names_borked_on_save.png" data-background-size="contain">
<h2></h2>
</section>
<section id="fixing-field-names" class="level2">
<h2>Fixing Field Names</h2>
<p>We can fix this:</p>
<ul>
<li>open the layer properties dialog and select <code>Source Fields</code></li>
</ul>
</section>
<section id="section-11" class="level2" data-background="../content/lectures/images/04/280_edit_fields.png" data-background-size="contain">
<h2></h2>
</section>
<section id="turn-on-field-editing-by-clicking-the-pencil-icon" class="level2">
<h2>Turn on field editing by clicking the pencil icon</h2>
<ul>
<li>Edit the name for the relevant field</li>
</ul>
</section>
<section id="section-12" class="level2" data-background="../content/lectures/images/04/290_editing_on.png" data-background-size="contain">
<h2></h2>
</section>
<section id="turn-editing-off-by-clicking-the-pencil" class="level2">
<h2>Turn editing off by clicking the pencil</h2>
</section>
<section id="section-13" class="level2" data-background="../content/lectures/images/04/291_edit_off.png" data-background-size="contain">
<h2></h2>
</section>
<section id="section-14" class="level2" data-background="../content/lectures/images/04/299_renamed_fields.png" data-background-size="contain">
<h2></h2>
</section>
<section id="creating-more-attributes" class="level2">
<h2>Creating More Attributes</h2>
<ul>
<li>We will limit our attention to the 2016 presidential results</li>
<li>Letâ€™s create a few new attributes that help us study these results</li>
</ul>
</section>
<section id="create-a-new-variable-that-is-the-total-of-clinton-trump" class="level2">
<h2>Create a new variable that is the total of Clinton + Trump</h2>
<CENTER>
<img src="../content/lectures/images/04/310_total_vote.png" alt="figure"
/>
</CENTER>
</section>
<section id="new-total" class="level2">
<h2>New Total</h2>
<CENTER>
<img src="../content/lectures/images/04/311_updated_table.png" alt="figure"
/>
</CENTER>
</section>
<section id="create-a-pctclinton-attribute" class="level2">
<h2>Create a pctClinton Attribute</h2>
<CENTER>
<img src="../content/lectures/images/04/320_pct_clinton.png" alt="figure"
/>
</CENTER>
</section>
<section id="new-pctclinton-attribute" class="level2">
<h2>New pctClinton Attribute</h2>
<CENTER>
<img src="../content/lectures/images/04/321_pct_clinton_result.png" alt="figure"
/>
</CENTER>
</section>
<section id="create-a-winner-attribute-string" class="level2">
<h2>Create a Winner Attribute (String)</h2>
<CENTER>
<img src="../content/lectures/images/04/340_winner.png" alt="figure"
/>
</CENTER>
</section>
<section id="new-winner-attribute-string" class="level2">
<h2>New Winner Attribute (String)</h2>
<CENTER>
<img src="../content/lectures/images/04/341_winner_result.png" alt="figure"
/>
</CENTER>
</section>
<section id="symbology" class="level2">
<h2>Symbology</h2>
<CENTER>
<img src="../content/lectures/images/04/350_winner_symbology.png" alt="figure"
/>
</CENTER>
</section>
<section id="sybmology-default" class="level2">
<h2>Sybmology Default</h2>
<CENTER>
<img src="../content/lectures/images/04/351_winner_map.png" alt="figure"
/>
</CENTER>
</section>
<section id="sybmology-changing-fill-colors" class="level2">
<h2>Sybmology Changing Fill Colors</h2>
<CENTER>
<img src="../content/lectures/images/04/352_winner_red_blue.png" alt="figure"
/>
</CENTER>
</section>
</section>
<section id="section-15" class="level1">
<h1></h1>
<section id="virtual-layers" class="level2">
<h2>Virtual Layers</h2>
</section>
<section id="virtual-layer-menu" class="level2">
<h2>Virtual Layer Menu</h2>
<CENTER>
<img src="../content/lectures/images/04/360_virtual_layer_menu.png" alt="figure"
/>
</CENTER>
</section>
<section id="getting-the-path" class="level2">
<h2>Getting the path</h2>
<CENTER>
<img src="../content/lectures/images/04/361_get_shp_path.png" alt="361_get_shp_path"
/>
</CENTER>
</section>
<section id="path-set" class="level2">
<h2>Path set</h2>
<CENTER>
<img src="../content/lectures/images/04/362_shape_path.png" alt="362_shape_path"
/>
</CENTER>
</section>
<section id="query" class="level2">
<h2>Query</h2>
<CENTER>
<img src="../content/lectures/images/04/363_query_clinton_trump_total.png" alt="363_query_clinton_trump_total"
/>
</CENTER>
</section>
<section id="test-query" class="level2">
<h2>Test Query</h2>
<CENTER>
<img src="../content/lectures/images/04/364_query_ok.png" alt="364_query_ok"
/>
</CENTER>
</section>
<section id="accessing-virtual-layer-attribute-tables" class="level2">
<h2>Accessing Virtual Layer Attribute Tables</h2>
<CENTER>
<img src="../content/lectures/images/04/365_virtual_layer_attribute_menu.png" alt="365_virtual_layer_attribute_menu"
/>
</CENTER>
</section>
<section id="query-result" class="level2">
<h2>Query Result</h2>
<CENTER>
<img src="../content/lectures/images/04/366_query_result.png" alt="366_query_result"
/>
</CENTER>
</section>
<section id="rename-virtual-layer" class="level2">
<h2>Rename Virtual Layer</h2>
<ul>
<li>right click on the virtual layer</li>
<li>click rename</li>
<li>rename to <code>clinton_trump_total</code></li>
</ul>
</section>
<section id="duplicate-layer" class="level2">
<h2>Duplicate Layer</h2>
<CENTER>
<img src="../content/lectures/images/04/400_duplicate_layer.png" alt="400_duplicate_layer"
/>
</CENTER>
</section>
<section id="rename-duplicate-layer" class="level2">
<h2>Rename Duplicate Layer</h2>
<CENTER>
<img src="../content/lectures/images/04/401_rename_layer.png" alt="401_rename_layer"
/>
</CENTER>
</section>
<section id="edit-new-virtual-layer" class="level2">
<h2>Edit New Virtual Layer</h2>
<CENTER>
<img src="../content/lectures/images/04/402_edit_virtual_layer.png" alt="402_edit_virtual_layer"
/>
</CENTER>
</section>
<section id="query-for-tracts-won-by-candidate" class="level2">
<h2>Query for Tracts Won by Candidate</h2>
<CENTER>
<img src="../content/lectures/images/04/410_query_tract_count.png" alt="410_query_tract_count"
/>
</CENTER>
</section>
<section id="warning" class="level2">
<h2>Warning</h2>
<CENTER>
<img src="../content/lectures/images/04/412_query_tract_warning.png" alt="412_query_tract_warning"
/>
</CENTER>
</section>
<section id="result-tracts-won-by-candidate" class="level2">
<h2>Result: Tracts Won by Candidate</h2>
<CENTER>
<img src="../content/lectures/images/04/413_query_tract_count_result.png" alt="413_query_tract_count_result"
/>
</CENTER>
</section>
<section id="next-up" class="level2">
<h2>Next Up</h2>
<ul>
<li>Raster Data</li>
</ul>
</section>
</section>
<section id="section-16" class="level1">
<h1></h1>
<p><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br /><span data-xmlns:dct="http://purl.org/dc/terms/" data-property="dct:title">GIS for Public Policyâ€™20</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://sergerey.org" property="cc:attributionName" rel="cc:attributionURL">Sergio Rey</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
</section>
</div>
 
<script src="lib/js/head.min.js"></script>
<script src="js/reveal.min.js"></script>
 
<script>
  // Full list of configuration options available here:
  // https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
    controls: true,
    progress: true,
    history: true,
    center: true,
    transition: 'linear',

        math: {
            // mathjax: 'http://cdn.mathjax.org/mathjax/latest/MathJax.js',
            config: 'TeX-AMS_HTML-full'
        },

  // available themes are in /css/theme
      theme: Reveal.getQueryHash().theme || 'journal', 
   
  // default/cube/page/concave/zoom/linear/fade/none
      transition: Reveal.getQueryHash().transition || 'linear',
   
  // Optional libraries used to extend on reveal.js
  dependencies: [
    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
    { src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
    { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
    { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
    // { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
    // { src: '../../lib/js/classList.js' },
    { src: 'plugin/math/math.js', async: true }
  ]
  });
 
</script>

</body>
</html>
